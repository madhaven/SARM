<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Jitin J Gigi">
    <title>SARM | Sign Up</title>
    <link rel="stylesheet" href="source/bootstrapmin.css">
    <link rel="stylesheet" href="source/style.css">
    <script src="source\validate.js"></script>
    <script>
    greenlight=[0,0,0,0,0];
    greenlight={
        email:0,
        phone:0,
        username:0,
        password:0,
        confirm:0
    }
    function islightgreen(){
        console.log(greenlight);
        if (greenlight.email+greenlight.phone+greenlight.username+greenlight.password+greenlight.confirm==5){
            document.getElementById("submit").disabled=false;
        } else {
            document.getElementById("submit").disabled=true;
        }
    }
    function valEmail(element){
        email=element.value;
        console.log(element);
        if (checkEmail(email)){
            // console.log(`${email} is okay`);
            greenlight.email=1;
            element.classList.remove("val-true");
        } else {
            // console.log(`${email} is not okay`);
            greenlight.email=0;
            element.classList.add("val-true");
        }
        islightgreen();
    }
    function valUsername(element){ //requires AJAX
        greenlight.username=1;
        islightgreen();
    }
    function valPass(element){
        pass=element.value;
        if (checkPassword(pass)){
            // console.log(`${pass} is okay`);
            greenlight.password=1;
            element.classList.remove("val-true");
        } else {
            // console.log(`${pass} is okay`);
            greenlight.password=0;
            element.classList.add("val-true");
        }
        islightgreen();
    }
    function valConfirm(element){
        pass = document.getElementsByClassName("validate")[3].value;
        pass2 = document.getElementsByClassName("validate")[4].value;
        if (pass==pass2){
            // console.log(`${pass2} is okay`);
            greenlight.confirm=1;
            element.classList.remove("val-true");
        } else {
            // console.log(`${pass2} is okay`);
            greenlight.confirm=0;
            element.classList.add("val-true");
        }
        islightgreen();
    }
    function valPhone(element){
        console.log(element.value);
        console.log("valphone");
        if (checkPhone(element.value)){
            greenlight.phone=1;
            element.classList.remove("val-true");
        } else {
            greenlight.phone=0;
            element.classList.add("val-true");
        }
        islightgreen();
    }
    </script>
</head>
<body>
    <div class="maindiv">
        <div class="container col-xl-6">
            <center>
                <div class="signinpanel shad">
                    <h3 class="signinheadmarg">SARM | Sign Up</h3>
                    <form action="signin.html" method="post">
                        <div class="form-group"><input name="email" type="email" class="form-control validate" placeholder="Email address" oninput="valEmail(this);"></div>
                        <div class="form-group"><input name="phone" type="number" min="1000000000" max="9999999999" class="form-control validate" placeholder="Contact Number" oninput="valPhone(this);"></div>
                        <div class="form-group"><input name="username" type="text" class="form-control validate" placeholder="Username" oninput=valUsername(this);></div>
                        <div class="form-group"><input name="password" type="password" class="form-control validate" placeholder="Password" oninput="valPass(this);"></div>
                        <div class="form-group"><input type="password" class="form-control validate" placeholder="Confirm Password" oninput="valConfirm(this);"></div>
                        <div class="form-group"><input type="submit" id="submit" class="form-control validate" disabled></div>
                    </form>
                </div>
            </center>
        </div>
    </div>
</body>
</html>
